<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"> 
<mapper namespace="com.evolve.signin.mapper.SigninMapper"> 
	<select id="signinId" parameterType="com.evolve.signin.vo.SigninVo" resultType="com.evolve.signin.vo.SigninVo">
	 	SELECT *
	 	FROM las_member m LEFT JOIN las_optional_ta o ON m.seq = o.member_seq
	 	WHERE id = #{id} AND pw = sha2(#{pw},256) AND del_yn = 0
	 </select>
	 
	<select id="signinId_del" parameterType="com.evolve.signin.vo.SigninVo" resultType="com.evolve.signin.vo.SigninVo">
	 	SELECT *
	 	FROM las_member
	 	WHERE id = #{id} AND del_yn = 0
	 </select>
	 
	 <insert id="loginLogInsert">
	 	INSERT INTO las_login_log(member_seq,login_ip) VALUES (#{seq},#{ip})
	 </insert>
	 
	 <select id="countrySelect" parameterType="Long" resultType="String">
	 	SELECT country FROM ip2nation WHERE ip <![CDATA[<]]> #{decimalIp} ORDER BY ip DESC LIMIT 0,1 
	 </select>
</mapper>